<openerp>
    <data>
        <template id="assets_backend" name="nh_eobs_mental_health assets" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/nh_eobs_mental_health/static/src/css/view_select_obs_stop_reason.css"/>
            </xpath>
        </template>
        <record model="ir.ui.view" id="view_mental_wardboard_form">
            <field name="name">Mental Wardboard Form View</field>
            <field name="model">nh.clinical.wardboard</field>
            <field name="inherit_id" ref="nh_eobs.view_wardboard_form"/>
            <field name="arch" type="xml">
                <xpath expr="//form/header" position="inside">
                    <button name="toggle_obs_stop" string="Stop Observations" type="object" groups="nh_clinical.group_nhc_ward_manager" attrs="{'invisible':[['obs_stop','=',True]]}"/>
                    <button name="toggle_obs_stop" string="Restart Observations" type="object" groups="nh_clinical.group_nhc_ward_manager" attrs="{'invisible':[['obs_stop','=',False]]}"/>
                </xpath>
                <xpath expr="//sheet/field" position="after">
                    <field name="obs_stop" readonly="1" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_mental_wardboard_kanban">
            <field name="name">Mental Wardboard Kanban View</field>
            <field name="model">nh.clinical.wardboard</field>
            <field name="inherit_id" ref="nh_eobs.view_wardboard_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban/field" position="after">
                    <field name="patient_id" readonly="1" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_select_obs_stop_reason">
            <field name="name">Select Patient Monitoring Exception Reason</field>
            <field name="model">nh.clinical.patient_monitoring_exception.select_reason</field>
            <field name="arch" type="xml">
                <form>
                    <field name="spell_has_open_escalation_tasks" invisible="1"/>
                    <span attrs="{'invisible': [('spell_has_open_escalation_tasks','=', False)]}">
                        <img src="/web/static/src/img/warning.png"/>One or more escalation tasks for <field name="patient_name" class="oe_inline"/> are not completed.
                    </span>
                    <h3>Select a reason for observation status change</h3>
                    <field name="reasons" widget="selection"/>
                    <footer>
                        <button name="start_patient_monitoring_exception" string="Confirm" type="object" groups="nh_clinical.group_nhc_ward_manager"/>
                        <button special="cancel" string="Cancel"/>
                    </footer>
                </form>
            </field>
        </record>


        <record model="ir.ui.view" id="view_mental_wardboard_tree_transferred">
            <field name="name">Mental Wardboard Recently Transferred</field>
            <field name="model">nh.clinical.wardboard</field>
            <field name="inherit_id" ref="nh_eobs.view_wardboard_tree_transferred"/>
            <field name="arch" type="xml">
                <xpath expr="//tree/field" position="after">
                    <field name="patient_id" readonly="1" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_mental_wardboard_tree">
            <field name="name">Mental Wardboard Tree View</field>
            <field name="model">nh.clinical.wardboard</field>
            <field name="inherit_id" ref="nh_eobs.view_wardboard_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree/field" position="after">
                    <field name="patient_id" readonly="1" invisible="1"/>
                </xpath>
            </field>
        </record>

    </data>
</openerp>