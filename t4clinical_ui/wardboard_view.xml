<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
            <record model="ir.ui.view" id="view_wardboard_search">
                <field name="name">Wardboard Search View</field>
                <field name="model">t4.clinical.wardboard</field>
                <field name="arch" type="xml">
                    <search string="Wardboard Search View">
                        <group expand="1" string="Group By...">
                          <filter name="age" string="Age" domain="[]" context="{'group_by':'age'}" help="Age"/>
                        </group>
                    </search>
                </field>
            </record>
            <record model="ir.ui.view" id="view_wardboard_tree">
                <field name="name">Wardboard Tree View</field>
                <field name="model">t4.clinical.wardboard</field>
                <field name="arch" type="xml">
                    <tree string="Wardboard Tree View" version="7.0" create="0">
                       <button name="wardboard_chart" string="Chart" type="object" class="oe_highlight" t4_icon="chart"/>
                       <button name="wardboard_ews" string="EWS" type="object" class="oe_highlight" t4_icon="observation"/>
                       <field name="full_name" />
                       <field name="location" />
                       <field name="sex" widget="t4_gender"/>
                       <field name="dob" widget="date"/>
                       <field name="age" />
					   <field name="next_diff" />
                       <field name="frequency" />
                       <field name="ews_score" />
                       <field name="ews_trend" />
                       <field name="ews_trend_string" />
                    </tree>
                </field>
            </record>

            <record model="ir.ui.view" id="view_wardboard_form">
                <field name="name">Wardboard Form View</field>
                <field name="model">t4.clinical.wardboard</field>
                <field name="priority">1</field>
                <field name="arch" type="xml">
                    <form string="Wardboard Form View" version="7.0" create="0">
                        <sheet>
                            <div class="oe_title">
                                <label string="Name" for="full_name"/>
                                <h1><field name="full_name" readonly="True"/></h1>
                            </div>
                            <group>
                                <group string="Personal Information">
                                    <field name="middle_names" readonly="True"/>
                                    <field name="dob" readonly="True" widget="date"/>
                                    <field name="age" readonly="True"/>
                                    <field name="sex" readonly="True"/>
                                </group>
                                <group string="Hospital Information">
                                	<field name="spell_date_started" readonly="True"/>
                                    <field name="location" readonly="True"/>
                                    <field name="location_id" readonly="True"/>
                                    <field name="other_identifier" readonly="True"/>
                                    <field name="patient_identifier" readonly="True"/>
                                </group>
                                <group string="Early Warning Score">
                                    <field name="next_diff" readonly="1"/>
                                    <field name="frequency" readonly="1"/>
                                    <field name="ews_score" readonly="1"/>
                                    <field name="ews_trend" readonly="1"/>
                                    <field name="o2target_string" readonly="1"/>
                                </group>
                            </group>
                            <notebook>
                                <page string="Admission Details">
                                    <group>
                                        <field name="spell_code" readonly="1"/>
                                    </group>
                                    <label string="Previous admissions:" for="spell_ids"/>
                                    <field name="spell_ids" readonly="1">
                                        <tree>
                                            <field name="code"/>
                                            <field name="date_started"/>
                                            <field name="location_id"/>
                                        </tree>
                                        <form>
                                            <field name="code" />
                                            <field name="date_started" />
                                            <field name="location_id"/>
                                        </form>
                                   </field>
                                </page>
                                <page string="Medical Details">
                                    <group>
                                        <field name="height" string="Height (m)" readonly="1"/>
                                    </group>
                                    <div>
                                        <label for="weight_ids" string="Weights:"/>
                                        <field name="weight_ids" readonly="1">
                                            <tree>
                                                <field name="weight" />
                                            </tree>
                                            <form>
                                                <field name="weight" />
                                            </form>
                                       </field>
                                    </div>
                                    <div>
                                        <label for="o2target_ids" string="O2 Target History:"/>
                                        <field name="o2target_ids" readonly="1">
                                            <tree>
                                                <field name="level_id" />
                                            </tree>
                                            <form>
                                                <field name="level_id" />
                                            </form>
                                       </field>
                                    </div>
                                    <group string="Blood Sugar">
                                    	<field name="blood_sugar_ids" readonly="1" nolabel="1"/>
                                   	</group>
                                    <group string="MRSA">
                                    	<field name="mrsa_ids" readonly="1" nolabel="1"/>
                                   	</group>
                                   	<group string="Diabetes">
                                    	<field name="diabetes_ids" readonly="1" nolabel="1"/>
                                   	</group>
                                </page>
                                <page string="Movements">
                                    <field name="move_ids" readonly="1">
                                        <tree>
                                            <field name="location_id" />
                                            <field name="date_terminated" />
                                            <field name="state" />
                                        </tree>
                                        <form>
                                            <field name="location_id" />
                                            <field name="patient_id" />
                                        </form>
                                   </field>
                                </page>
                                <page string="Devices">
                                    <group string="Device Sessions">
                                    	<field name="device_session_ids" readonly="1" nolabel="1"/>
                                   	</group>
                                </page>
                            </notebook>
                        </sheet>
                    </form>
                </field>
            </record>

            <record model="ir.ui.view" id="view_wardboard_chart_form">
                <field name="name">Wardboard Chart Form View</field>
                <field name="model">t4.clinical.wardboard</field>
                <field name="arch" type="xml">
                    <form string="Wardboard Form View" version="7.0" create="0">
                        <sheet>
                            <!--<button name="print_chart" string="Print" type="object" class="oe_highlight"/>-->
                            <!--<field name="ews_ids" widget="t4_ewschart"/>-->
                        </sheet>
                    </form>
                </field>
            </record>

            <record model="ir.actions.act_window" id="action_wardboard" >
                <field name="name">Wardboard</field>
                <field name="res_model">t4.clinical.wardboard</field>
                <field name="view_type">form</field>
                <field name="view_mode">tree,form</field>
                <field name="domain">[('next_diff','!=',False)]</field>
                <field name="search_view_id" ref="view_wardboard_search"/>
            </record>
            <record model="ir.actions.act_window.view" id="act_view_wardboard_tree">
                <field eval="0" name="sequence"/>
                <field name="view_mode">tree</field>
                <field name="view_id" ref="view_wardboard_tree"/>
                <field name="act_window_id" ref="action_wardboard"/>
            </record>
            <record model="ir.actions.act_window.view" id="act_view_wardboard_form">
                <field eval="1" name="sequence"/>
                <field name="view_mode">form</field>
                <field name="view_id" ref="view_wardboard_form"/>
                <field name="act_window_id" ref="action_wardboard"/>
            </record>
    </data>
</openerp>